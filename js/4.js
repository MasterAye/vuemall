webpackJsonp([4],{338:function(e,t,n){"use strict";function s(e){o||n(384)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(354),a=n(386),o=!1,i=n(196),l=s,d=i(r.a,a.a,!1,l,"data-v-b0bce500",null);d.options.__file="src\\components\\order\\order.vue",t.default=d.exports},345:function(e,t,n){function s(e){for(var t=0;t<e.length;t++){var n=e[t],s=c[n.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](n.parts[r]);for(;r<n.parts.length;r++)s.parts.push(a(n.parts[r]));s.parts.length>n.parts.length&&(s.parts.length=n.parts.length)}else{for(var o=[],r=0;r<n.parts.length;r++)o.push(a(n.parts[r]));c[n.id]={id:n.id,refs:1,parts:o}}}}function r(){var e=document.createElement("style");return e.type="text/css",u.appendChild(e),e}function a(e){var t,n,s=document.querySelector("style["+h+'~="'+e.id+'"]');if(s){if(m)return f;s.parentNode.removeChild(s)}if(g){var a=v++;s=p||(p=r()),t=o.bind(null,s,a,!1),n=o.bind(null,s,a,!0)}else s=r(),t=i.bind(null,s),n=function(){s.parentNode.removeChild(s)};return t(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap)return;t(e=s)}else n()}}function o(e,t,n,s){var r=n?"":s.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function i(e,t){var n=t.css,s=t.media,r=t.sourceMap;if(s&&e.setAttribute("media",s),_.ssrId&&e.setAttribute(h,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var d=n(346),c={},u=l&&(document.head||document.getElementsByTagName("head")[0]),p=null,v=0,m=!1,f=function(){},_=null,h="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n,r){m=n,_=r||{};var a=d(e,t);return s(a),function(t){for(var n=[],r=0;r<a.length;r++){var o=a[r],i=c[o.id];i.refs--,n.push(i)}t?(a=d(e,t),s(a)):a=[];for(var r=0;r<n.length;r++){var i=n[r];if(0===i.refs){for(var l=0;l<i.parts.length;l++)i.parts[l]();delete c[i.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},346:function(e,t){e.exports=function(e,t){for(var n=[],s={},r=0;r<t.length;r++){var a=t[r],o=a[0],i=a[1],l=a[2],d=a[3],c={id:e+":"+r,css:i,media:l,sourceMap:d};s[o]?s[o].parts.push(c):n.push(s[o]={id:o,parts:[c]})}return n}},354:function(e,t,n){"use strict";var s=n(199),r=n.n(s),a=n(198);t.a={data:function(){return{isSubmit:!1,orderGoodsList:[],order:{accept_name:"",address:"",mobile:"",email:"",post_code:"",payment_id:"6",express_id:"1",expressMoment:20,goodsAmount:0,message:"请尽快发货",goodsids:null,cargoodsobj:null,area:{province:{code:"130000",value:"河北省"},city:{code:"130300",value:"秦皇岛市"},area:{code:"130322",value:"昌黎县"}}},rules:{accept_name:[{required:!0,message:"请输入用户姓名",trigger:"blur"}],address:[{required:!0,message:"请输入详细地址",trigger:"blur"}],mobile:[{required:!0,validator:function(e,t,n){if(!t)return n(new Error("手机号码不能为空"));/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(t)?n():n(new Error("请输入正确的手机号"))},trigger:"blur"}],area:[{required:!0,message:"请选择地址",trigger:"blur"}]}}},components:{VDistpicker:r.a},computed:{getGoodsAmount:function(){var e=0;return this.orderGoodsList.forEach(function(t){e+=t.sell_price*t.buycount}),this.order.goodsAmount=e,e},getTotalCount:function(){var e=0;return this.orderGoodsList.forEach(function(t){e+=t.buycount}),e}},created:function(){this.getOrderGoodsListData()},beforeDestory:function(){},methods:{getOrderGoodsListData:function(){var e=this,t="site/validate/order/getgoodslist/"+this.$route.params.ids,n=Object(a.d)();this.$axios.get(t).then(function(t){e.order.goodsids=e.$route.params.ids,e.order.cargoodsobj={},t.data.message.forEach(function(t){t.buycount=n[t.id],e.order.cargoodsobj[t.id]=t.buycount}),e.orderGoodsList=t.data.message})},selectedArea:function(e){this.order.area=e},expressChange:function(e){switch(this.order.express_id=e,e){case"1":this.order.expressMoment=20;break;case"2":this.order.expressMoment=15;break;case"3":this.order.expressMoment=8}},goToPay:function(){var e=this;this.$refs.orderForm.validate(function(t){if(!t)return!1;e.$axios.post("site/validate/order/setorder",e.order).then(function(t){if(1==t.data.status)return void e.$message.error(t.data.message);e.$router.push({path:"/site/payOrder/"+t.data.message.orderid})})})}}}},384:function(e,t,n){var s=n(385);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);n(345)("29088e92",s,!1,{})},385:function(e,t,n){t=e.exports=n(332)(!1),t.push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},386:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e._v(" "),n("div",{staticClass:"section"},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"bg-wrap"},[e._m(1),e._v(" "),n("el-form",{ref:"orderForm",staticClass:"demo-ruleForm",attrs:{model:e.order,rules:e.rules,"label-width":"100px"}},[n("h2",{staticClass:"slide-tit"},[n("span",[e._v("1、收货地址")])]),e._v(" "),n("div",{attrs:{id:"orderForm",name:"orderForm",url:""}},[n("div",{staticClass:"form-box address-info"},[n("dl",{staticClass:"form-group"},[n("el-form-item",{attrs:{label:"收货人姓名",prop:"accept_name"}},[n("el-input",{staticStyle:{width:"500px"},model:{value:e.order.accept_name,callback:function(t){e.$set(e.order,"accept_name",t)},expression:"order.accept_name"}})],1)],1),e._v(" "),n("dl",{staticClass:"form-group"},[n("el-form-item",{attrs:{label:"所属地区",prop:"area"}},[n("v-distpicker",{attrs:{province:e.order.area.province.value,city:e.order.area.city.value,area:e.order.area.area.value},on:{selected:e.selectedArea}})],1)],1),e._v(" "),n("dl",{staticClass:"form-group"},[n("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[n("el-input",{staticStyle:{width:"500px"},model:{value:e.order.address,callback:function(t){e.$set(e.order,"address",t)},expression:"order.address"}})],1)],1),e._v(" "),n("dl",{staticClass:"form-group"},[n("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[n("el-input",{staticStyle:{width:"500px"},model:{value:e.order.mobile,callback:function(t){e.$set(e.order,"mobile",t)},expression:"order.mobile"}})],1)],1),e._v(" "),n("dl",{staticClass:"form-group"},[n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{staticStyle:{width:"500px"},model:{value:e.order.email,callback:function(t){e.$set(e.order,"email",t)},expression:"order.email"}})],1)],1),e._v(" "),n("dl",{staticClass:"form-group"},[n("el-form-item",{attrs:{label:"邮政编码",prop:"post_code"}},[n("el-input",{staticStyle:{width:"200px"},model:{value:e.order.post_code,callback:function(t){e.$set(e.order,"post_code",t)},expression:"order.post_code"}})],1)],1)]),e._v(" "),n("h2",{staticClass:"slide-tit"},[n("span",[e._v("2、支付方式")])]),e._v(" "),n("ul",{staticClass:"item-box clearfix"},[n("li",[n("label",[n("el-radio",{attrs:{label:"6"},model:{value:e.order.payment_id,callback:function(t){e.$set(e.order,"payment_id",t)},expression:"order.payment_id"}},[e._v("在线支付")]),e._v(" "),n("em",[e._v("手续费：0.00元")])],1)])]),e._v(" "),n("h2",{staticClass:"slide-tit"},[n("span",[e._v("3、配送方式")])]),e._v(" "),n("ul",{staticClass:"item-box clearfix"},[n("el-radio-group",{on:{change:e.expressChange},model:{value:e.order.express_id,callback:function(t){e.$set(e.order,"express_id",t)},expression:"order.express_id"}},[n("li",[n("label",[n("el-radio",{attrs:{label:"1"}},[e._v("顺丰快递(20元)")])],1)]),e._v(" "),n("li",[n("label",[n("el-radio",{attrs:{label:"2"}},[e._v("圆通快递(10元)")])],1)]),e._v(" "),n("li",[n("label",[n("el-radio",{attrs:{label:"3"}},[e._v("邮政快递(8元)")])],1)])])],1),e._v(" "),n("h2",{staticClass:"slide-tit"},[n("span",[e._v("4、商品清单")])]),e._v(" "),n("div",{staticClass:"line15"}),e._v(" "),n("table",{staticClass:"cart-table",attrs:{width:"100%",border:"0",align:"center",cellpadding:"8",cellspacing:"0"}},[n("tbody",[n("tr",[n("th",{attrs:{colspan:"2",align:"left"}},[e._v("商品信息")]),e._v(" "),n("th",{attrs:{width:"84",align:"left"}},[e._v("单价")]),e._v(" "),n("th",{attrs:{width:"84",align:"center"}},[e._v("购买数量")]),e._v(" "),n("th",{attrs:{width:"104",align:"left"}},[e._v("金额(元)")])]),e._v(" "),e._l(e.orderGoodsList,function(t){return n("tr",{key:t.id},[n("td",{attrs:{width:"68"}},[n("a",{attrs:{target:"_blank",href:"/goods/show-89.html"}},[n("img",{staticClass:"img",staticStyle:{width:"50px",height:"50px"},attrs:{src:t.img_url}})])]),e._v(" "),n("td",[n("a",{attrs:{target:"_blank",href:"/goods/show-89.html"}},[e._v(e._s(t.title))])]),e._v(" "),n("td",[n("span",{staticClass:"red"},[e._v("\n                                            ￥"+e._s(t.sell_price)+"\n                                        ")])]),e._v(" "),n("td",{attrs:{align:"center"}},[e._v(e._s(t.buycount))]),e._v(" "),n("td",[n("span",{staticClass:"red"},[e._v("\n                                            ￥"+e._s(t.sell_price*t.buycount)+"\n                                        ")])])])})],2)]),e._v(" "),n("div",{staticClass:"line15"}),e._v(" "),n("h2",{staticClass:"slide-tit"},[n("span",[e._v("5、结算信息")])]),e._v(" "),n("div",{staticClass:"buy-foot clearfix"},[n("div",{staticClass:"left-box"},[n("dl",[n("dt",[e._v("订单备注(100字符以内)")]),e._v(" "),n("dd",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.order.message,expression:"order.message"}],staticClass:"input",staticStyle:{height:"35px"},attrs:{name:"message"},domProps:{value:e.order.message},on:{input:function(t){t.target.composing||e.$set(e.order,"message",t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"right-box"},[n("p",[e._v("\n                                    商品\n                                    "),n("label",{staticClass:"price"},[e._v(e._s(e.getTotalCount))]),e._v(" 件     \n                                    商品金额：￥\n                                    "),n("label",{staticClass:"price",attrs:{id:"goodsAmount"}},[e._v(e._s(e.getGoodsAmount))]),e._v(" 元    \n                                ")]),e._v(" "),n("p",[e._v("\n                                    运费：￥\n                                    "),n("label",{staticClass:"price",attrs:{id:"expressFee"}},[e._v(e._s(e.order.expressMoment))]),e._v(" 元\n                                ")]),e._v(" "),n("p",{staticClass:"txt-box"},[e._v("\n                                    应付总金额：￥\n                                    "),n("label",{staticClass:"price",attrs:{id:"totalAmount"}},[e._v(e._s(e.getGoodsAmount+e.order.expressMoment))])]),e._v(" "),n("p",{staticClass:"btn-box"},[n("el-button",{attrs:{type:"primary"}},[e._v("返回购物车")]),e._v(" "),n("el-button",{attrs:{type:"success"},on:{click:e.goToPay}},[e._v("确认提交")])],1)])])])])],1)])])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section"},[n("div",{staticClass:"location"},[n("span",[e._v("当前位置：")]),e._v(" "),n("a",{attrs:{href:"/index.html"}},[e._v("首页")]),e._v(" >\n            "),n("a",{attrs:{href:"/cart.html"}},[e._v("购物车")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cart-head clearfix"},[n("h2",[n("i",{staticClass:"iconfont icon-cart"}),e._v("我的购物车")]),e._v(" "),n("div",{staticClass:"cart-setp"},[n("ul",[n("li",{staticClass:"first active"},[n("div",{staticClass:"progress"},[n("span",[e._v("1")]),e._v("\n                                    放进购物车\n                                ")])]),e._v(" "),n("li",{staticClass:"active"},[n("div",{staticClass:"progress"},[n("span",[e._v("2")]),e._v("\n                                    填写订单信息\n                                ")])]),e._v(" "),n("li",{staticClass:"last"},[n("div",{staticClass:"progress"},[n("span",[e._v("3")]),e._v("\n                                    支付/确认订单\n                                ")])])])])])}];s._withStripped=!0;var a={render:s,staticRenderFns:r};t.a=a}});